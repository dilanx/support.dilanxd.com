"use strict";(self.webpackChunkdilanx_support=self.webpackChunkdilanx_support||[]).push([[203],{2901:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var s=t(4848),i=t(8453),a=t(1901);const o={pagination_prev:"developer/create-app",pagination_next:null},r="Get an Access Token",c={id:"developer/get-access-token",title:"Get an Access Token",description:"This process is largly structured based on the OAuth 2.0 specification. There are some things missing but I hope to make it completely compliant in the future.",source:"@site/docs/developer/get-access-token.mdx",sourceDirName:"developer",slug:"/developer/get-access-token",permalink:"/developer/get-access-token",draft:!1,unlisted:!1,editUrl:"https://github.com/dilanx/support.dilanxd.com/blob/main/docs/developer/get-access-token.mdx",tags:[],version:"current",frontMatter:{pagination_prev:"developer/create-app",pagination_next:null},previous:{title:"Create an Application",permalink:"/developer/create-app"}},d={},l=[{value:"1. Get an authorization code",id:"1-get-an-authorization-code",level:2},{value:"2. Exchange code for token",id:"2-exchange-code-for-token",level:2},{value:"3. Use the access token",id:"3-use-the-access-token",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"get-an-access-token",children:"Get an Access Token"})}),"\n",(0,s.jsxs)(n.p,{children:["This process is largly structured based on the ",(0,s.jsx)(n.a,{href:"https://oauth.net/2/",children:"OAuth 2.0"})," specification. There are some things missing but I hope to make it completely compliant in the future."]}),"\n",(0,s.jsx)(n.h2,{id:"1-get-an-authorization-code",children:"1. Get an authorization code"}),"\n",(0,s.jsxs)(n.p,{children:["Once you have created an app, you'll need to ",(0,s.jsx)(n.strong,{children:"REDIRECT"})," them to the ",(0,s.jsx)(n.strong,{children:"authorization endpoint"})," to get an ",(0,s.jsx)(n.strong,{children:"authorization code"}),". The endpoint is called authenticate but ignore that lol it's for authenticating the user and also authorizing your app on their behalf. Keep in mind that this is ",(0,s.jsx)(n.code,{children:"https://auth.dilanxd.com"}),"."]}),"\n",(0,s.jsx)(a.A,{method:"GO TO",endpoint:"/authenticate",servers:["https://auth.dilanxd.com"],query:[{id:"client_id",description:"Your 12-digit client ID.",required:!0},{id:"redirect_uri",description:"A URL with an approved domain to redirect the user after authorization.",required:!0},{id:"state",description:"A random string to prevent CSRF attacks. Ensure that you check this when the user is redirected back to your app.",required:!0}]}),"\n",(0,s.jsxs)(n.p,{children:["You'll then be redirected back to your application at the endpoint you specified in the ",(0,s.jsx)(n.code,{children:"redirect_uri"})," query parameter. This URL will contain a ",(0,s.jsx)(n.code,{children:"state"})," query parameter, which you should verify, and a ",(0,s.jsx)(n.code,{children:"code"})," query paramter, which you should ",(0,s.jsx)(n.strong,{children:"immediately"})," exchange for an access token since authorization codes expire quickly."]}),"\n",(0,s.jsx)(n.h2,{id:"2-exchange-code-for-token",children:"2. Exchange code for token"}),"\n",(0,s.jsxs)(n.p,{children:["Once you've verified ",(0,s.jsx)(n.code,{children:"state"}),", use the ",(0,s.jsx)(n.code,{children:"code"})," to get an access token by making the following API request. Keep in mind that this is ",(0,s.jsx)(n.code,{children:"https://api.dilanxd.com"}),"."]}),"\n",(0,s.jsx)(a.A,{method:"POST",endpoint:"/auth/token",servers:["https://api.dilanxd.com"],body:[{id:"client_id",description:"Your 12-digit client ID.",required:!0},{id:"code",description:"The authorization code.",required:!0}],contentType:"application/json",responses:[{status:200,description:"Operation successful",params:[{id:"access_token",description:"The access token.",required:!0,type:"string"}],contentType:"application/json"},{status:400,description:"Invalid or missing parameters"}]}),"\n",(0,s.jsx)(n.h2,{id:"3-use-the-access-token",children:"3. Use the access token"}),"\n",(0,s.jsxs)(n.p,{children:["Now, you can make requests to the API using the access token. Just pass it in the ",(0,s.jsx)(n.code,{children:"Authorization"})," header as a bearer token when necessary."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Authorization: Bearer <access_token>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},1901:(e,n,t)=>{t.d(n,{A:()=>f});var s=t(6540);const i={container:"container_Cv6M",description:"description_P48R",eline:"eline_BcGq"},a={"GO TO":["#000000","#000000"],GET:["#4ade80","#16a34a"],POST:["#facc15","#ca8a04"],PUT:["#22d3ee","#0891b2"],PATCH:["#c084fc","#9333ea"],DELETE:["#fb923c","#ea580c"]},o={200:["#bbf7d0","#15803d"],300:["#fef08a","#a16207"],400:["#fecdd3","#be123c"],500:["#bfdbfe","#1d4ed8"]},r={200:"OK",201:"Created",204:"No Content",301:"Moved Permanently",302:"Found",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",409:"Conflict",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable"},c={container:"container_YEQ0",method:"method_JJK2",endpoint:"endpoint_RCDk",endpointContent:"endpointContent_ox8t",endpointText:"endpointText_BFT7",showMore:"showMore_kP_7",servers:"servers_xQ2O",icon:"icon_dfHl"};var d=t(4848);function l(e){let{className:n}=e;return(0,d.jsx)("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})}function p(e){let{className:n}=e;return(0,d.jsx)("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}function h(e){let{method:n,endpoint:t,servers:i}=e;const[o,r]=s.useState(!1);return(0,d.jsxs)("div",{className:c.container,style:{color:a[n][1]},children:[(0,d.jsx)("p",{className:c.method,children:n}),(0,d.jsxs)("div",{className:c.endpoint,children:[(0,d.jsxs)("div",{className:c.endpointContent,children:[(0,d.jsx)("p",{className:c.endpointText,children:t}),o&&(0,d.jsx)("div",{className:c.servers,children:i?.map((e=>(0,d.jsxs)("p",{children:[e,(0,d.jsx)("span",{children:t})]},`ep-${n}-${t}-s-${e}`)))})]}),(0,d.jsx)("button",{title:o?"Hide full endpoints":"Show full endpoints",className:c.showMore,onClick:()=>r(!o),children:o?(0,d.jsx)(l,{className:c.icon}):(0,d.jsx)(p,{className:c.icon})})]})]})}const u={container:"container_VKUM",heading:"heading_leSD",headingType:"headingType_dGTZ",headingContentType:"headingContentType_FysO",param:"param_MooJ",paramId:"paramId_mfJb",paramDesc:"paramDesc_MAqE",required:"required_hR5n",paramType:"paramType_ms6B"};function m(e){let{method:n,endpoint:t,type:s,params:i,contentType:o}=e;return(0,d.jsxs)("div",{className:u.container,children:[(0,d.jsxs)("div",{className:u.heading,children:[(0,d.jsx)("p",{className:u.headingType,children:s}),o&&(0,d.jsx)("p",{className:u.headingContentType,children:o})]}),i.map(((e,i)=>(0,d.jsxs)("div",{className:u.param,children:[(0,d.jsxs)("p",{className:u.paramId,children:[e.id,e.required&&(0,d.jsx)("span",{className:u.required,children:"*"})]}),e.type&&(0,d.jsx)("p",{className:u.paramType,style:{color:a[n][1]},children:e.type}),(0,d.jsx)("p",{className:u.paramDesc,children:e.description})]},`ep-${n}-${t}-${s}-${i}`)))]})}const x={container:"container_CwX4",heading:"heading_uO7y",text:"text_jrG9",fade:"fade_ORYZ"};function j(e){let{name:n,value:t,fade:s}=e;return(0,d.jsxs)("div",{className:x.container,children:[(0,d.jsx)("p",{className:x.heading,children:n}),(0,d.jsx)("p",{className:`${x.text}${s?` ${x.fade}`:""}`,children:t})]})}const g={container:"container_S7Ma",content:"content_NRuC",heading:"heading_T4SZ",headingStatus:"headingStatus_FcoI",headingDescription:"headingDescription_z_LW",icon:"icon_CJ7Z",inside:"inside_XONC"};function v(e){let{method:n,endpoint:t,status:i,description:a,params:c,contentType:h}=e;const[u,x]=s.useState(!1),j=100*Math.floor(i/100);return(0,d.jsx)("div",{className:g.container,children:(0,d.jsxs)("div",{className:g.content,style:{backgroundColor:o[j]?.[0],color:o[j]?.[1],cursor:c?"pointer":"default"},onClick:()=>{c&&x(!u)},children:[(0,d.jsxs)("div",{className:g.heading,children:[(0,d.jsxs)("p",{className:g.headingStatus,children:[i," ",r[i]]}),a&&(0,d.jsx)("p",{className:g.headingDescription,children:a}),c&&(u?(0,d.jsx)(l,{className:g.icon}):(0,d.jsx)(p,{className:g.icon}))]}),u&&(0,d.jsx)("div",{className:g.inside,onClick:e=>{e.stopPropagation()},children:(0,d.jsx)(m,{method:n,endpoint:t,type:"RESPONSE BODY",params:c,contentType:h})})]})})}function f(e){let{method:n,endpoint:t,description:s,servers:o,authorization:r,scope:c,params:l,query:p,contentType:u,body:x,responses:g}=e;const f=o?.[0];return(0,d.jsxs)("div",{className:i.container,style:{borderColor:a[n][0]},children:[(0,d.jsx)(h,{method:n,endpoint:t,servers:o}),s&&(0,d.jsx)("p",{className:i.description,children:s}),(0,d.jsxs)("div",{className:i.eline,children:[f&&(0,d.jsx)(j,{name:"HOST",value:f}),r&&(0,d.jsx)(j,{name:"AUTHORIZATION",value:r,fade:!0}),c&&(0,d.jsx)(j,{name:"REQUIRED SCOPE",value:c,fade:!0})]}),l&&(0,d.jsx)(m,{method:n,endpoint:t,type:"PATH PARAMS",params:l}),p&&(0,d.jsx)(m,{method:n,endpoint:t,type:"QUERY PARAMS",params:p}),x&&(0,d.jsx)(m,{method:n,endpoint:t,type:"BODY",params:x,contentType:u}),g&&g.map((e=>(0,d.jsx)(v,{method:n,endpoint:t,...e},`ep-${n}-${t}-r-${e.status}`)))]})}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(6540);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);