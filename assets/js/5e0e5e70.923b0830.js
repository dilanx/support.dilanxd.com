"use strict";(self.webpackChunkdilanx_kb=self.webpackChunkdilanx_kb||[]).push([[712],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=p(n),u=r,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return n?a.createElement(h,i(i({ref:t},l),{},{components:n})):a.createElement(h,i({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[d]="string"==typeof e?e:r,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5970:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(7462),r=n(7294);const o={container:"container_Cv6M",description:"description_P48R",eline:"eline_BcGq"},i={"GO TO":["#000000","#000000"],GET:["#4ade80","#16a34a"],POST:["#facc15","#ca8a04"],PUT:["#22d3ee","#0891b2"],PATCH:["#c084fc","#9333ea"],DELETE:["#fb923c","#ea580c"]},c={200:["#bbf7d0","#15803d"],300:["#fef08a","#a16207"],400:["#fecdd3","#be123c"],500:["#bfdbfe","#1d4ed8"]},s={200:"OK",201:"Created",204:"No Content",301:"Moved Permanently",302:"Found",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",409:"Conflict",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable"},p={container:"container_YEQ0",method:"method_JJK2",endpoint:"endpoint_RCDk",endpointContent:"endpointContent_ox8t",endpointText:"endpointText_BFT7",showMore:"showMore_kP_7",servers:"servers_xQ2O",icon:"icon_dfHl"};function l(e){let{className:t}=e;return r.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}))}function d(e){let{className:t}=e;return r.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}function m(e){let{method:t,endpoint:n,servers:a}=e;const[o,c]=r.useState(!1);return r.createElement("div",{className:p.container,style:{color:i[t][1]}},r.createElement("p",{className:p.method},t),r.createElement("div",{className:p.endpoint},r.createElement("div",{className:p.endpointContent},r.createElement("p",{className:p.endpointText},n),o&&r.createElement("div",{className:p.servers},a?.map((e=>r.createElement("p",{key:`ep-${t}-${n}-s-${e}`},e,r.createElement("span",null,n)))))),r.createElement("button",{title:o?"Hide full endpoints":"Show full endpoints",className:p.showMore,onClick:()=>c(!o)},o?r.createElement(l,{className:p.icon}):r.createElement(d,{className:p.icon}))))}const u={container:"container_VKUM",heading:"heading_leSD",headingType:"headingType_dGTZ",headingContentType:"headingContentType_FysO",param:"param_MooJ",paramId:"paramId_mfJb",paramDesc:"paramDesc_MAqE",required:"required_hR5n",paramType:"paramType_ms6B"};function h(e){let{method:t,endpoint:n,type:a,params:o,contentType:c}=e;return r.createElement("div",{className:u.container},r.createElement("div",{className:u.heading},r.createElement("p",{className:u.headingType},a),c&&r.createElement("p",{className:u.headingContentType},c)),o.map(((e,o)=>r.createElement("div",{className:u.param,key:`ep-${t}-${n}-${a}-${o}`},r.createElement("p",{className:u.paramId},e.id,e.required&&r.createElement("span",{className:u.required},"*")),e.type&&r.createElement("p",{className:u.paramType,style:{color:i[t][1]}},e.type),r.createElement("p",{className:u.paramDesc},e.description)))))}const y={container:"container_CwX4",heading:"heading_uO7y",text:"text_jrG9",fade:"fade_ORYZ"};function f(e){let{name:t,value:n,fade:a}=e;return r.createElement("div",{className:y.container},r.createElement("p",{className:y.heading},t),r.createElement("p",{className:`${y.text}${a?` ${y.fade}`:""}`},n))}const g={container:"container_S7Ma",content:"content_NRuC",heading:"heading_T4SZ",headingStatus:"headingStatus_FcoI",headingDescription:"headingDescription_z_LW",icon:"icon_CJ7Z",inside:"inside_XONC"};function k(e){let{method:t,endpoint:n,status:a,description:o,params:i,contentType:p}=e;const[m,u]=r.useState(!1),y=100*Math.floor(a/100);return r.createElement("div",{className:g.container},r.createElement("div",{className:g.content,style:{backgroundColor:c[y]?.[0],color:c[y]?.[1],cursor:i?"pointer":"default"},onClick:()=>{i&&u(!m)}},r.createElement("div",{className:g.heading},r.createElement("p",{className:g.headingStatus},a," ",s[a]),o&&r.createElement("p",{className:g.headingDescription},o),i&&(m?r.createElement(l,{className:g.icon}):r.createElement(d,{className:g.icon}))),m&&r.createElement("div",{className:g.inside,onClick:e=>{e.stopPropagation()}},r.createElement(h,{method:t,endpoint:n,type:"RESPONSE BODY",params:i,contentType:p}))))}function v(e){let{method:t,endpoint:n,description:c,servers:s,authorization:p,scope:l,params:d,query:u,contentType:y,body:g,responses:v}=e;const E=s?.[0];return r.createElement("div",{className:o.container,style:{borderColor:i[t][0]}},r.createElement(m,{method:t,endpoint:n,servers:s}),c&&r.createElement("p",{className:o.description},c),r.createElement("div",{className:o.eline},E&&r.createElement(f,{name:"HOST",value:E}),p&&r.createElement(f,{name:"AUTHORIZATION",value:p,fade:!0}),l&&r.createElement(f,{name:"REQUIRED SCOPE",value:l,fade:!0})),d&&r.createElement(h,{method:t,endpoint:n,type:"PATH PARAMS",params:d}),u&&r.createElement(h,{method:t,endpoint:n,type:"QUERY PARAMS",params:u}),g&&r.createElement(h,{method:t,endpoint:n,type:"BODY",params:g,contentType:y}),v&&v.map((e=>r.createElement(k,(0,a.Z)({key:`ep-${t}-${n}-r-${e.status}`,method:t,endpoint:n},e)))))}},5634:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(3905)),o=n(5970);const i={pagination_prev:"developer/create-app",pagination_next:null},c="Get an Access Token",s={unversionedId:"developer/get-access-token",id:"developer/get-access-token",title:"Get an Access Token",description:"This process is largly structured based on the OAuth 2.0 specification. There are some things missing but I hope to make it completely compliant in the future.",source:"@site/docs/developer/get-access-token.mdx",sourceDirName:"developer",slug:"/developer/get-access-token",permalink:"/developer/get-access-token",draft:!1,editUrl:"https://github.com/dilanx/kb.dilanxd.com/blob/main/docs/developer/get-access-token.mdx",tags:[],version:"current",frontMatter:{pagination_prev:"developer/create-app",pagination_next:null},sidebar:"sidebar",previous:{title:"Create an Application",permalink:"/developer/create-app"}},p={},l=[{value:"1. Get an authorization code",id:"1-get-an-authorization-code",level:2},{value:"2. Exchange code for token",id:"2-exchange-code-for-token",level:2},{value:"3. Use the access token",id:"3-use-the-access-token",level:2}],d={toc:l},m="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"get-an-access-token"},"Get an Access Token"),(0,r.kt)("p",null,"This process is largly structured based on the ",(0,r.kt)("a",{parentName:"p",href:"https://oauth.net/2/"},"OAuth 2.0")," specification. There are some things missing but I hope to make it completely compliant in the future."),(0,r.kt)("h2",{id:"1-get-an-authorization-code"},"1. Get an authorization code"),(0,r.kt)("p",null,"Once you have created an app, you'll need to ",(0,r.kt)("strong",{parentName:"p"},"REDIRECT")," them to the ",(0,r.kt)("strong",{parentName:"p"},"authorization endpoint")," to get an ",(0,r.kt)("strong",{parentName:"p"},"authorization code"),". The endpoint is called authenticate but ignore that lol it's for authenticating the user and also authorizing your app on their behalf. Keep in mind that this is ",(0,r.kt)("inlineCode",{parentName:"p"},"https://auth.dilanxd.com"),"."),(0,r.kt)(o.Z,{method:"GO TO",endpoint:"/authenticate",servers:["https://auth.dilanxd.com"],query:[{id:"client_id",description:"Your 12-digit client ID.",required:!0},{id:"redirect_uri",description:"A URL with an approved domain to redirect the user after authorization.",required:!0},{id:"state",description:"A random string to prevent CSRF attacks. Ensure that you check this when the user is redirected back to your app.",required:!0}],mdxType:"Endpoint"}),(0,r.kt)("p",null,"You'll then be redirected back to your application at the endpoint you specified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"redirect_uri")," query parameter. This URL will contain a ",(0,r.kt)("inlineCode",{parentName:"p"},"state")," query parameter, which you should verify, and a ",(0,r.kt)("inlineCode",{parentName:"p"},"code")," query paramter, which you should ",(0,r.kt)("strong",{parentName:"p"},"immediately")," exchange for an access token since authorization codes expire quickly."),(0,r.kt)("h2",{id:"2-exchange-code-for-token"},"2. Exchange code for token"),(0,r.kt)("p",null,"Once you've verified ",(0,r.kt)("inlineCode",{parentName:"p"},"state"),", use the ",(0,r.kt)("inlineCode",{parentName:"p"},"code")," to get an access token by making the following API request. Keep in mind that this is ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.dilanxd.com"),"."),(0,r.kt)(o.Z,{method:"POST",endpoint:"/auth/token",servers:["https://api.dilanxd.com"],body:[{id:"client_id",description:"Your 12-digit client ID.",required:!0},{id:"code",description:"The authorization code.",required:!0}],contentType:"application/json",responses:[{status:200,description:"Operation successful",params:[{id:"access_token",description:"The access token.",required:!0,type:"string"}],contentType:"application/json"},{status:400,description:"Invalid or missing parameters"}],mdxType:"Endpoint"}),(0,r.kt)("h2",{id:"3-use-the-access-token"},"3. Use the access token"),(0,r.kt)("p",null,"Now, you can make requests to the API using the access token. Just pass it in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Authorization")," header as a bearer token when necessary."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Authorization: Bearer <access_token>\n")))}u.isMDXComponent=!0}}]);